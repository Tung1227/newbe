var rankscience_loaded=!1;setTimeout(function(){var script_version=129,script_last_update="2020-6-2 15:3:4",use_query_params=0,enhancements=[{filter:{active:1,enhancement_id:3256,id:3267,name:"",type:"exact_match",value:"/"},id:3256,name:"Title + Meta Description Change",recipes:[{active:1,enhancement_id:3256,id:3919,instructions:[{active:1,attr_key:"",attribute_key:null,code:"innertext( Title ) = 'This is where the new title content goes.'",created_at:"2019-07-29T18:34:52.000Z",id:9326,ins_value:null,method:"Inner Text",name:"",pattern:null,position:0,recipe_id:3919,selector:"Title",type:"take-constant--passthru--put-dom",updated_at:"2020-01-29T14:57:03.000Z",value:"This is where the new title content goes.",workspace_input_key:"",workspace_output_key:""},{active:1,attr_key:"",attribute_key:null,code:"attribute( meta[name=description],  ) = 'This is where the new meta description text should go.'",created_at:"2019-07-29T18:34:52.000Z",id:9327,ins_value:null,method:"Attribute",name:"",pattern:null,position:0,recipe_id:3919,selector:"meta[name=description]",type:"take-constant--passthru--put-dom",updated_at:"2020-01-29T14:57:03.000Z",value:"This is where the new meta description text should go.",workspace_input_key:"",workspace_output_key:""}],name:"Recipe",position:0,weight:1}],site_id:281,status:"Inactive"},{filter:{active:1,enhancement_id:3487,id:3498,name:"",type:"exact_match",value:"/blog/best-free-coding-bootcamp-options/"},id:3487,name:"TEST EXAMPLE - Blog: Best Free Coding Bootcamp Options",recipes:[{active:1,enhancement_id:3487,id:4321,instructions:[{active:1,attr_key:"",attribute_key:null,code:"innertext( title ) = '35 Best No-Cost Coding Programs | Free Coding Bootcamps '",created_at:"2019-10-31T13:41:34.000Z",id:10353,ins_value:null,method:"Inner Text",name:"",pattern:null,position:0,recipe_id:4321,selector:"title",type:"take-constant--passthru--put-dom",updated_at:"2019-10-31T13:44:56.000Z",value:"35 Best No-Cost Coding Programs | Free Coding Bootcamps ",workspace_input_key:"",workspace_output_key:""}],name:"Recipe",position:0,weight:1}],site_id:281,status:"Inactive"},{filter:{active:1,enhancement_id:3716,id:3727,name:"",type:"exact_match",value:"/blog/best-tech-jobs/"},id:3716,name:"SEO Enhancement: Title update on https://careerkarma.com/blog/best-tech-jobs/ (Pages)",recipes:[{active:1,enhancement_id:3716,id:4632,instructions:[{active:1,attr_key:"",attribute_key:null,code:null,created_at:"2020-03-12T15:41:00.000Z",id:11898,ins_value:null,method:"Inner Text",name:"",pattern:null,position:0,recipe_id:4632,selector:"title",type:"take-constant--passthru--put-dom",updated_at:"2020-03-12T15:41:00.000Z",value:"Best Tech Jobs 2020: Top 20 Jobs in Tech for the Future (IN DEMAND!) | Career Karma",workspace_input_key:"",workspace_output_key:""}],name:"Recipe",position:0,weight:1}],site_id:281,status:"Active"},{filter:{active:1,enhancement_id:3738,id:3749,name:"",type:"list",value:"/subjects/best-dot-net-bootcamps/|/subjects/best-a-b-testing-bootcamps/|/subjects/best-adobe-creative-cloud-bootcamps/|/subjects/best-agile-bootcamps/|/subjects/best-ajax-bootcamps/|/subjects/best-algorithms-bootcamps/|/subjects/best-android-bootcamps/|/subjects/best-angular-bootcamps/|/subjects/best-angularjs-bootcamps/|/subjects/best-apache-bootcamps/|/subjects/best-api-bootcamps/|/subjects/best-app-development-bootcamps/|/subjects/best-ar-vr-bootcamps/|/subjects/best-artificial-intelligence-bootcamps/|/subjects/best-asp-net-bootcamps/|/subjects/best-asp-net-mvc-bootcamps/|/subjects/best-aws-bootcamps/|/subjects/best-axure-bootcamps/|/subjects/best-back-end-bootcamps/|/subjects/best-bash-bootcamps/|/subjects/best-bdd-bootcamps/|/subjects/best-big-data-bootcamps/|/subjects/best-blockchain-and-crypto-bootcamps/|/subjects/best-bookshelf-js-bootcamps/|/subjects/best-bootstrap-bootcamps/|/subjects/best-business-bootcamps/|/subjects/best-c-bootcamps/|/subjects/best-c-sharp-bootcamps/|/subjects/best-c-plus-plus-bootcamps/|/subjects/best-career-coaching-bootcamps/|/subjects/best-cocoa-bootcamps/|/subjects/best-coffeescript-bootcamps/|/subjects/best-collaboration-bootcamps/|/subjects/best-command-line-bootcamps/|/subjects/best-cryptocurrency-bootcamps/|/subjects/best-cryptography-bootcamps/|/subjects/best-css-bootcamps/|/subjects/best-data-structures-bootcamps/|/subjects/best-data-visualization-bootcamps/|/subjects/best-database-design-bootcamps/|/subjects/best-database-management-bootcamps/|/subjects/best-design-principles-bootcamps/|/subjects/best-design-sprint-bootcamps/|/subjects/best-devops-bootcamps/|/subjects/best-digital-marketing-bootcamps/|/subjects/best-django-bootcamps/|/subjects/best-docker-bootcamps/|/subjects/best-entrepreneurship-bootcamps/|/subjects/best-ethical-hacking-bootcamps/|/subjects/best-excel-bootcamps/|/subjects/best-express-js-bootcamps/|/subjects/best-web-development-bootcamps/|/subjects/best-front-end-bootcamps/|/subjects/best-functional-programming-bootcamps/|/subjects/best-game-design-bootcamps/|/subjects/best-git-bootcamps/|/subjects/best-github-bootcamps/|/subjects/best-google-analytics-bootcamps/|/subjects/best-graphql-bootcamps/|/subjects/best-hadoop-bootcamps/|/subjects/best-heroku-bootcamps/|/subjects/best-html-bootcamps/|/subjects/best-illustrator-bootcamps/|/subjects/best-information-security-bootcamps/|/subjects/best-information-technology-bootcamps/|/subjects/best-ios-bootcamps/|/subjects/best-java-bootcamps/|/subjects/best-javascript-bootcamps/|/subjects/best-jquery-bootcamps/|/subjects/best-json-bootcamps/|/subjects/best-jupyter-notebook-bootcamps/|/subjects/best-kotlin-bootcamps/|/subjects/best-laravel-bootcamps/|/subjects/best-linux-bootcamps/|/subjects/best-machine-learning-bootcamps/|/subjects/best-matplotlib-bootcamps/|/subjects/best-mobile-bootcamps/|/subjects/best-mobile-security-bootcamps/|/subjects/best-mongodb-bootcamps/|/subjects/best-mvc-bootcamps/|/subjects/best-mysql-bootcamps/|/subjects/best-network-security-bootcamps/|/subjects/best-networking-bootcamps/|/subjects/best-node-js-bootcamps/|/subjects/best-nosql-bootcamps/|/subjects/best-npm-bootcamps/|/subjects/best-numpy-bootcamps/|/subjects/best-object-oriented-programming-bootcamps/|/subjects/best-objective-c-bootcamps/|/subjects/best-operating-systems-bootcamps/|/subjects/best-pandas-bootcamps/|/subjects/best-penetration-testing-bootcamps/|/subjects/best-perl-bootcamps/|/subjects/best-photoshop-bootcamps/|/subjects/best-php-bootcamps/|/subjects/best-postgresql-bootcamps/|/subjects/best-project-management-bootcamps/|/subjects/best-python-bootcamps/|/subjects/best-r-programming-bootcamps/|/subjects/best-react-native-bootcamps/|/subjects/best-react-js-bootcamps/|/subjects/best-redux-bootcamps/|/subjects/best-responsive-design-bootcamps/|/subjects/best-rest-bootcamps/|/subjects/best-ruby-bootcamps/|/subjects/best-ruby-on-rails-bootcamps/|/subjects/best-saas-bootcamps/|/subjects/best-sales-bootcamps/|/subjects/best-scala-bootcamps/|/subjects/best-scikit-bootcamps/|/subjects/best-scrum-bootcamps/|/subjects/best-seo-bootcamps/|/subjects/best-shell-scripting-bootcamps/|/subjects/best-sinatra-bootcamps/|/subjects/best-sketch-bootcamps/|/subjects/best-social-media-marketing-bootcamps/|/subjects/best-software-quality-assurance-bootcamps/|/subjects/best-software-testing-bootcamps/|/subjects/best-solidity-bootcamps/|/subjects/best-spring-mvc-bootcamps/|/subjects/best-sql-bootcamps/|/subjects/best-sql-programming-bootcamps/|/subjects/best-swift-bootcamps/|/subjects/best-tcp-ip-bootcamps/|/subjects/best-technical-leadership-bootcamps/|/subjects/best-tensorflow-bootcamps/|/subjects/best-test-driven-development-bootcamps/|/subjects/best-typescript-bootcamps/|/subjects/best-ui-design-bootcamps/|/subjects/best-unity-bootcamps/|/subjects/best-unix-bootcamps/|/subjects/best-user-authentication-bootcamps/|/subjects/best-virtual-reality-bootcamps/|/subjects/best-visual-design-bootcamps/|/subjects/best-vue-js-bootcamps/|/subjects/best-web-development-bootcamps/|/subjects/best-web-services-bootcamps/|/subjects/best-wordpress-bootcamps/|/subjects/best-xcode-bootcamps/"},id:3738,name:"/subjects/ A/B Test (3.26.2020)",recipes:[{active:1,enhancement_id:3738,id:4656,instructions:[],name:"Control",position:0,weight:1},{active:1,enhancement_id:3738,id:4657,instructions:[{active:1,attr_key:"",attribute_key:null,code:"{{header}} = innertext( div.nn4ueg-11.gFvMbx )",created_at:"2020-03-26T11:26:25.000Z",id:11966,ins_value:null,method:"Inner Text",name:"",pattern:null,position:0,recipe_id:4657,selector:"div.nn4ueg-11.gFvMbx",type:"take-dom--passthru--put-workspace",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"",workspace_output_key:"header"},{active:1,attr_key:"",attribute_key:null,code:"extract( '{{number}} Best {{subject}} Bootcamps' ) = {{header}}",created_at:"2020-03-26T11:26:25.000Z",id:11967,ins_value:null,method:"Inner Text",name:"",pattern:"{{number}} Best {{subject}} Bootcamps",position:1,recipe_id:4657,selector:"",type:"take-workspace--extract-with-pattern--put-workspace",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"header",workspace_output_key:""},{active:1,attr_key:"",attribute_key:null,code:"{{new title}} = set( '{{number}} Best {{subject}} Bootcamps 2020 | Career Karma' )",created_at:"2020-03-26T11:26:25.000Z",id:11968,ins_value:null,method:"Inner Text",name:"",pattern:"{{number}} Best {{subject}} Bootcamps 2020 | Career Karma",position:2,recipe_id:4657,selector:"",type:"take-workspace--set-with-pattern--put-workspace",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"",workspace_output_key:"new title"},{active:1,attr_key:"",attribute_key:null,code:"innertext( title ) = {{new title}}",created_at:"2020-03-26T11:26:25.000Z",id:11969,ins_value:null,method:"Inner Text",name:"",pattern:null,position:3,recipe_id:4657,selector:"title",type:"take-workspace--passthru--put-dom",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"new title",workspace_output_key:""}],name:"Recipe A",position:1,weight:1},{active:1,enhancement_id:3738,id:4659,instructions:[{active:1,attr_key:"",attribute_key:null,code:"{{header}} = innertext( div.nn4ueg-11.gFvMbx )",created_at:"2020-03-26T11:36:08.000Z",id:11970,ins_value:null,method:"Inner Text",name:"",pattern:null,position:0,recipe_id:4659,selector:"div.nn4ueg-11.gFvMbx",type:"take-dom--passthru--put-workspace",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"",workspace_output_key:"header"},{active:1,attr_key:"",attribute_key:null,code:"extract( '{{number}} Best {{subject}} Bootcamps' ) = {{header}}",created_at:"2020-03-26T11:36:08.000Z",id:11971,ins_value:null,method:"Inner Text",name:"",pattern:"{{number}} Best {{subject}} Bootcamps",position:1,recipe_id:4659,selector:"",type:"take-workspace--extract-with-pattern--put-workspace",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"header",workspace_output_key:""},{active:1,attr_key:"",attribute_key:null,code:"{{new title}} = set( '{{number}} Best {{subject}} Courses 2020 | Career Karma' )",created_at:"2020-03-26T11:36:08.000Z",id:11972,ins_value:null,method:"Inner Text",name:"",pattern:"{{number}} Best {{subject}} Courses 2020 | Career Karma",position:2,recipe_id:4659,selector:"",type:"take-workspace--set-with-pattern--put-workspace",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"",workspace_output_key:"new title"},{active:1,attr_key:"",attribute_key:null,code:"innertext( title ) = {{new title}}",created_at:"2020-03-26T11:36:08.000Z",id:11973,ins_value:null,method:"Inner Text",name:"",pattern:null,position:3,recipe_id:4659,selector:"title",type:"take-workspace--passthru--put-dom",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"new title",workspace_output_key:""}],name:"Recipe B",position:2,weight:1},{active:1,enhancement_id:3738,id:4660,instructions:[{active:1,attr_key:"",attribute_key:null,code:"{{header}} = innertext( div.nn4ueg-11.gFvMbx )",created_at:"2020-03-26T11:38:16.000Z",id:11974,ins_value:null,method:"Inner Text",name:"",pattern:null,position:0,recipe_id:4660,selector:"div.nn4ueg-11.gFvMbx",type:"take-dom--passthru--put-workspace",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"",workspace_output_key:"header"},{active:1,attr_key:"",attribute_key:null,code:"extract( '{{number}} Best {{subject}} Bootcamps' ) = {{header}}",created_at:"2020-03-26T11:38:16.000Z",id:11975,ins_value:null,method:"Inner Text",name:"",pattern:"{{number}} Best {{subject}} Bootcamps",position:1,recipe_id:4660,selector:"",type:"take-workspace--extract-with-pattern--put-workspace",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"header",workspace_output_key:""},{active:1,attr_key:"",attribute_key:null,code:"{{new title}} = set( '{{number}} Best {{subject}} Bootcamps and Courses 2020 | Career Karma' )",created_at:"2020-03-26T11:38:16.000Z",id:11976,ins_value:null,method:"Inner Text",name:"",pattern:"{{number}} Best {{subject}} Bootcamps and Courses 2020 | Career Karma",position:2,recipe_id:4660,selector:"",type:"take-workspace--set-with-pattern--put-workspace",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"",workspace_output_key:"new title"},{active:1,attr_key:"",attribute_key:null,code:"innertext( title ) = {{new title}}",created_at:"2020-03-26T11:38:16.000Z",id:11977,ins_value:null,method:"Inner Text",name:"",pattern:null,position:3,recipe_id:4660,selector:"title",type:"take-workspace--passthru--put-dom",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"new title",workspace_output_key:""}],name:"Recipe C",position:3,weight:1},{active:1,enhancement_id:3738,id:4661,instructions:[{active:1,attr_key:"",attribute_key:null,code:"{{header}} = innertext( div.nn4ueg-11.gFvMbx )",created_at:"2020-03-26T11:44:34.000Z",id:11978,ins_value:null,method:"Inner Text",name:"",pattern:null,position:0,recipe_id:4661,selector:"div.nn4ueg-11.gFvMbx",type:"take-dom--passthru--put-workspace",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"",workspace_output_key:"header"},{active:1,attr_key:"",attribute_key:null,code:"extract( '{{number}} Best {{subject}} Bootcamps' ) = {{header}}",created_at:"2020-03-26T11:44:34.000Z",id:11979,ins_value:null,method:"Inner Text",name:"",pattern:"{{number}} Best {{subject}} Bootcamps",position:1,recipe_id:4661,selector:"",type:"take-workspace--extract-with-pattern--put-workspace",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"header",workspace_output_key:""},{active:1,attr_key:"",attribute_key:null,code:"{{new title}} = set( '{{number}} Best {{subject}} Courses and Bootcamps 2020 | Career Karma' )",created_at:"2020-03-26T11:44:34.000Z",id:11980,ins_value:null,method:"Inner Text",name:"",pattern:"{{number}} Best {{subject}} Courses and Bootcamps 2020 | Career Karma",position:2,recipe_id:4661,selector:"",type:"take-workspace--set-with-pattern--put-workspace",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"",workspace_output_key:"new title"},{active:1,attr_key:"",attribute_key:null,code:"innertext( title ) = {{new title}}",created_at:"2020-03-26T11:44:34.000Z",id:11981,ins_value:null,method:"Inner Text",name:"",pattern:null,position:3,recipe_id:4661,selector:"title",type:"take-workspace--passthru--put-dom",updated_at:"2020-03-26T11:44:34.000Z",value:"",workspace_input_key:"new title",workspace_output_key:""}],name:"Recipe D",position:4,weight:1}],site_id:281,status:"Active"},{filter:{active:1,enhancement_id:3791,id:3802,name:"",type:"exact_match",value:"/about"},id:3791,name:"Example Page Rule ",recipes:[{active:1,enhancement_id:3791,id:4727,instructions:[{active:1,attr_key:"",attribute_key:null,code:"innertext( h2 ) = 'How to Start with CareerKarma?'",created_at:"2020-04-14T13:44:26.000Z",id:12110,ins_value:null,method:"Inner Text",name:"",pattern:"",position:0,recipe_id:4727,selector:"h2",type:"take-constant--passthru--put-dom",updated_at:"2020-04-14T13:44:26.000Z",value:"How to Start with CareerKarma?",workspace_input_key:"",workspace_output_key:""}],name:"Recipe",position:0,weight:1}],site_id:281,status:"Inactive"}];function paint(middleware,enhancements){function isValidEnhancement(e){const t=e.getCurrentPath(),s=e.getRsParams();function a(a){if(!t){e.logError("CurrentPath is not set","rs-path-empty");return!1}if(s["rs-deactivate"]&&"all"==s["rs-deactivate"]){const t="All enhancements were disabled with ?rs-deactivate=all";e.logError(t,"rs-deactivate");return!1}if("Active"!==a.status&&!s["rs-test"]&&!s["rs-recipe"]){s["rs-verbose"]&&"true"==s["rs-verbose"]&&e.logError("Skipping inactive enhancement "+a.id,"rs-skip "+a.id);return!1}var n=a.filter;switch(n.type){case"exact_match":return t===n.value;case"prefix":return t.substr(0,n.value.length)===n.value;case"list":return n.value.split("|").indexOf(t)>=0;case"regex":var o=!0;try{new RegExp(String(n.value))}catch(t){e.logError(t.toString(),"rs-test bad regex");o=!1}if(!o)return!1;try{r=new RegExp(String(n.value));return t.match(r)}catch(t){e.logError(t.toString(),"rs-test bad regex");return!1}default:return!1}}return s["rs-test"]?function(t){if(Number(t.id)===Number(s["rs-test"])&&a(t)){e.logError("Enhancement with id "+String(t.id)+" currently being tested with `?rs-test`.","announce rs-test");return!0}return!1}:s["rs-recipe"]?function(t){var r=!1;t.recipes&&t.recipes.length>0&&t.recipes.forEach(function(e){Number(e.id)===Number(s["rs-recipe"])&&(r=!0)});if(r&&a(t)){e.logError("Recipe with id "+s["rs-recipe"]+" currently being tested with `?rs-recipe`.","announce rs-recipe");return!0}return!1}:a}function chooseInstructionSequence(e){return function(t){return e.chooseInstructionSequence(t,e.getCurrentPath())}}function getWorkspaceInputKey(ws,instruction){var name=instruction.workspace_input_key,toWrite=ws[instruction.workspace_input_key];if(!toWrite){var func=!1,arr=name.split("."),len=arr.length;if(!(len>1))throw"RS-MissingWorkspaceItemError: no item named `"+instruction.workspace_input_key+"` in workspace.";name=arr[0];func=arr.slice(1,len).join(".");if(func){toWrite=ws[name];if(!toWrite)throw"RS-MissingWorkspaceItemError: no item named `"+name+"` in workspace.";try{toWrite=eval("toWrite."+func)}catch(e){throw"RS-UnknownWorkspaceFunctionError: "+e.message}}}return toWrite}function chooseInstructionExecutor(e){switch(e.type){case"take-constant--passthru--put-dom":return function(e,t,s){e.setHtml(s,s.value);return t};case"take-workspace--passthru--put-dom":return function(e,t,s){var r=getWorkspaceInputKey(t,s);e.setHtml(s,r);return t};case"take-dom--passthru--put-workspace":return function(e,t,s){var r=e.getHtml(s);t[s.workspace_output_key]=r;return t};case"take-workspace--extract-with-pattern--put-workspace":return function(e,t,s){var r=getWorkspaceInputKey(t,s),a=s.pattern.replace(/{{/g,"e0cd4aa7d36323291836aed2ba1a2f35").replace(/}}/g,"67c0904ef67556c8b54cfb9c83f28bea").replace(/<OR>/g,"b55206ef52e0848c6f2dc05665617216").replace(/[-^[\]{}()*+?.,\\^$|#\s]/g,"\\$&").replace(/e0cd4aa7d36323291836aed2ba1a2f35/g,"{{").replace(/67c0904ef67556c8b54cfb9c83f28bea/g,"}}").replace(/b55206ef52e0848c6f2dc05665617216/g,"|").replace(/{{.+?}}/g,"([\\s\\S]+)").replace(/\\ /g,"\\s+"),n=r.match(a);if(!n)throw"RS-WorkspaceExtractPatternError: pattern `"+s.pattern+"` does not match workspace item `"+s.workspace_input_key+"` with value `"+r+"`.";var o=s.pattern.match(/{{.+?}}/g);o&&o.length>0&&o.forEach(function(e,s){var r=e.slice(2,e.length-2).trim();void 0===n[s+1]?t[r]="":t[r]=n[s+1]});return t};case"take-workspace--set-with-pattern--put-workspace":return function(e,t,s){var r=s.pattern.match(/{{.+?}}/g);if(r&&r.length>0){r.forEach(function(e){var r=e.slice(2,e.length-2).trim();r.indexOf("?")>0&&(r=r.split("?")[0]);if(void 0===t[r])throw"RS-WorkspaceSetPatternError: pattern `"+s.pattern+"` contains item `"+r+"`, which is not in workspace."});var a=r.reduce(function(e,s){var r,a=s.slice(2,s.length-2).trim();if(a.indexOf("?")>0){let e=a.split("?");r=t[e[0]]?e[1]:""}else r=t[a];return e.replace(s,r)},s.pattern);t[s.workspace_output_key]=a}else t[s.workspace_output_key]=s.pattern;return t};case"take-workspace--set-with-pattern--put-schema":return function(e,t,s){var r=s.pattern.match(/{{.+?}}/g);if(r&&r.length>0){r.forEach(function(e){var r=e.slice(2,e.length-2).trim();r.indexOf("?")>0&&(r=r.split("?")[0]);if(void 0===t[r])throw"RS-WorkspaceSetPatternError: pattern `"+s.pattern+"` contains item `"+r+"`, which is not in workspace."});var a=r.reduce(function(e,s){var r,a=s.slice(2,s.length-2).trim();if(a.indexOf("?")>0){let e=a.split("?");r=t[e[0]]?e[1]:""}else r=t[a];return e.replace(s,r)},s.pattern)}else a=s.pattern;let n=document.createElement("script");n.type="application/ld+json";n.text=a;document.querySelector("head").appendChild(n);return t};case"take-workspace--titlecase--put-workspace":return function(e,t,s){var r=getWorkspaceInputKey(t,s).split(" ").map(function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}).join(" ");t[s.workspace_output_key]=r;return t};case"take-dom--prepend-with-workspace--put-dom":return function(e,t,s){var r=e.getHtml(s),a=getWorkspaceInputKey(t,s)+r;e.setHtml(s,a);return t};case"take-dom--append-with-workspace--put-dom":return function(e,t,s){var r=e.getHtml(s)+getWorkspaceInputKey(t,s);e.setHtml(s,r);return t};default:throw"RS-UnknownInstructionType: received unknown instruction type `"+e.type+"`."}}function runInstruction(e,t){const s=e.getRsParams();return function(r){s["rs-verbose"]&&"true"==s["rs-verbose"]&&e.logError("Running instruction "+r.position+" "+r.code);var a=chooseInstructionExecutor(r)(e,t,r);t=a}}function runInstructionSequence(e){return function(t){try{if(t&&t.length>0){t.sort(function(e,t){return e.position-t.position});t.forEach(runInstruction(e,{}))}}catch(t){e.logError(t,t)}}}var validEnhancements=enhancements.filter(isValidEnhancement(middleware)),rsTest=middleware.getRsParams()["rs-test"],userInputtedBadId=0==validEnhancements.length&&rsTest;if(userInputtedBadId){var testEnhancements=enhancements.filter(function(e){return Number(e.id)===Number(rsTest)}),realEnhancementButWrongPath=testEnhancements.length>0;if(realEnhancementButWrongPath){var e=testEnhancements[0];middleware.logError("RS-Error: Enhancement with id "+rsTest+" isn't configured to run on this page. If this is not correct behavior, double check your enhancement's filter.","rs-test picked wrong id");middleware.logError("Filter type:  "+e.filter.type,"rs-test bad filter type");middleware.logError("Filter value: "+e.filter.value,"rs-test bad filter value");middleware.logError("Current path: "+middleware.getCurrentPath(),"rs-test bad filter curr path")}else middleware.logError("RS-Error: An enhancement with id `"+rsTest+"` does not exist. Double check the id in your rs=test=<id> request.","bad user input for rs-test")}try{var chosenInstructionSequences=validEnhancements.map(chooseInstructionSequence(middleware));chosenInstructionSequences.forEach(runInstructionSequence(middleware))}catch(e){middleware.logError(e,e)}}function makeMiddleware(){function e(){var e=window.location.pathname,t="",s=!1;if(window.location.search){var r=window.location.search.slice(1);try{r=decodeURI(window.location.search.slice(1))}catch(e){r=window.location.search.slice(1)}for(var a,n=r.split("&"),c=[];a=n.shift();)if(0!==a.indexOf("rs-"))c.push(a);else if("rs-verbose"==a){s=!0;o("RankScience Script Version: "+script_version+" "+script_last_update,"rs-version")}c.length>0&&(t="?"+c.join("&"))}try{e=use_query_params?decodeURIComponent(window.location.pathname)+t:decodeURIComponent(window.location.pathname)}catch(r){e=use_query_params?window.location.pathname+t:window.location.pathname;s&&o("RS Error decoding URI: "+e,"rs-pathname")}s&&o("RS pathname URI: "+e,"rs-pathname");return e}function t(){if(!window.location.search)return{};var e="";try{e=decodeURI(window.location.search.slice(1))}catch(t){e=window.location.search.slice(1)}for(var t,s=e.split("&"),r=[];t=s.shift();)if(0===t.indexOf("rs-")){var a=t.split("=");2==a.length?r[a[0]]=a[1]:r[a[0]]="true"}return r}var s={};var r,a=(r=[],{register:function(e){r.indexOf(e)>-1||r.push(e)},shouldRepaint:function(e){var t=r.indexOf(e.target);if(t>-1){r.splice(t,1);return!1}var s=Array.prototype.slice.call(e.removedNodes).filter(function(e){return r.indexOf(e)>-1});if(s.length>0){s.forEach(function(e){var t=r.indexOf(e);r.splice(t,1)});return!1}return!0}});var n=[];function o(e,s){const r=t();if(r["rs-verbose"]&&"true"==r["rs-verbose"]||r["rs-test"]||r["rs-deactivate"]||r["rs-recipe"]){if(s&&n.indexOf(s)>-1)return;n.push(s);console.log(e)}}return{getCurrentPath:window.__rsOverrides__&&window.__rsOverrides__.getPath?window.__rsOverrides__.getPath:e,chooseInstructionSequence:function(e,s){const r=t();if(r["rs-recipe"]){const t=r["rs-recipe"],s=e.recipes.map(function(e){return e.id.toString()});if(-1===s.indexOf(t))throw"RS-Error: Recipe with id `"+t+"` does not exist. Double check the id in your rs=recipe=<id> request.";return e.recipes[s.indexOf(t)].instructions}var a=getAssignment(e.id,e.recipes,s);return e.recipes[a].instructions},setHtml:function(e,t){var s=e.selector.split("<OR>"),r=null;for(index in s)if(r=document.querySelector(s[index]))break;if(null===r)throw"RS-MissingHtmlElementError: can't find element with selector `"+e.selector+"`.";function n(e,t){o("Value before enhancement: "+e,"rs-test before");o("Value after enhancement:  "+t,"rs-test after")}a.register(r);switch(e.method){case"Inner Text":n(r.textContent,t);return r.textContent=t;case"Outer HTML":n(r.outerHTML,t);return r.outerHTML=t;case"Attribute":if(!e.attr_key)throw"RS-MissingAttributeKeyError: A `method` of `Attribute` requires an `attr_key`.";n(r.getAttribute(e.attr_key),t);return r.setAttribute(e.attr_key,t);default:throw"RS-UnknownSetMethod: method `"+e.method+"` not recognized."}},getHtml:function(t){var r=t.selector.split("<OR>"),a=null;for(index in r)if(a=document.querySelector(r[index]))break;if(null===a)throw"RS-MissingHtmlElementError: can't find element with selector `"+t.selector+"`.";var n=e()+":"+t.selector+":"+t.method+":"+t.attr_key;if(s[n])return s[n];switch(t.method){case"Inner Text":s[n]=a.textContent;return a.textContent;case"Outer HTML":s[n]=a.outerHTML;return a.outerHTML;case"Attribute":if(!t.attr_key)throw"RS-MissingAttributeKeyError: A `method` of `Attribute` requires an `attr_key`.";var o=a.getAttribute(t.attr_key);if(o){s[n]=o;return o}throw"RS-MissingAttributeError: Can't find attribute `"+t.attr_key+"` on element with selector `"+t.selector+"`.";default:throw"RS-UnknownExtractionMethod: method `"+t.method+"` not recognized."}},registerPainter:function(e){var t,s=(t=e,function(){if(void 0!==this.alreadyReceivedPaintRequest){this.alreadyReceivedPaintRequest=!0;requestAnimationFrame(function(){t()})}});new MutationObserver(function(e){e.forEach(function(e){a.shouldRepaint(e)&&s()})}).observe(document,{childList:!0,subtree:!0,attributes:!0})},logError:o,getRsParams:t}}function getAssignment(e,t,s){function r(e,t){var s=e[0],r=e[1],a=e[2],u=e[3];r=i(r=i(r=i(r=i(r=c(r=c(r=c(r=c(r=o(r=o(r=o(r=o(r=n(r=n(r=n(r=n(r,a=n(a,u=n(u,s=n(s,r,a,u,t[0],7,-680876936),r,a,t[1],12,-389564586),s,r,t[2],17,606105819),u,s,t[3],22,-1044525330),a=n(a,u=n(u,s=n(s,r,a,u,t[4],7,-176418897),r,a,t[5],12,1200080426),s,r,t[6],17,-1473231341),u,s,t[7],22,-45705983),a=n(a,u=n(u,s=n(s,r,a,u,t[8],7,1770035416),r,a,t[9],12,-1958414417),s,r,t[10],17,-42063),u,s,t[11],22,-1990404162),a=n(a,u=n(u,s=n(s,r,a,u,t[12],7,1804603682),r,a,t[13],12,-40341101),s,r,t[14],17,-1502002290),u,s,t[15],22,1236535329),a=o(a,u=o(u,s=o(s,r,a,u,t[1],5,-165796510),r,a,t[6],9,-1069501632),s,r,t[11],14,643717713),u,s,t[0],20,-373897302),a=o(a,u=o(u,s=o(s,r,a,u,t[5],5,-701558691),r,a,t[10],9,38016083),s,r,t[15],14,-660478335),u,s,t[4],20,-405537848),a=o(a,u=o(u,s=o(s,r,a,u,t[9],5,568446438),r,a,t[14],9,-1019803690),s,r,t[3],14,-187363961),u,s,t[8],20,1163531501),a=o(a,u=o(u,s=o(s,r,a,u,t[13],5,-1444681467),r,a,t[2],9,-51403784),s,r,t[7],14,1735328473),u,s,t[12],20,-1926607734),a=c(a,u=c(u,s=c(s,r,a,u,t[5],4,-378558),r,a,t[8],11,-2022574463),s,r,t[11],16,1839030562),u,s,t[14],23,-35309556),a=c(a,u=c(u,s=c(s,r,a,u,t[1],4,-1530992060),r,a,t[4],11,1272893353),s,r,t[7],16,-155497632),u,s,t[10],23,-1094730640),a=c(a,u=c(u,s=c(s,r,a,u,t[13],4,681279174),r,a,t[0],11,-358537222),s,r,t[3],16,-722521979),u,s,t[6],23,76029189),a=c(a,u=c(u,s=c(s,r,a,u,t[9],4,-640364487),r,a,t[12],11,-421815835),s,r,t[15],16,530742520),u,s,t[2],23,-995338651),a=i(a,u=i(u,s=i(s,r,a,u,t[0],6,-198630844),r,a,t[7],10,1126891415),s,r,t[14],15,-1416354905),u,s,t[5],21,-57434055),a=i(a,u=i(u,s=i(s,r,a,u,t[12],6,1700485571),r,a,t[3],10,-1894986606),s,r,t[10],15,-1051523),u,s,t[1],21,-2054922799),a=i(a,u=i(u,s=i(s,r,a,u,t[8],6,1873313359),r,a,t[15],10,-30611744),s,r,t[6],15,-1560198380),u,s,t[13],21,1309151649),a=i(a,u=i(u,s=i(s,r,a,u,t[4],6,-145523070),r,a,t[11],10,-1120210379),s,r,t[2],15,718787259),u,s,t[9],21,-343485551);e[0]=d(s,e[0]);e[1]=d(r,e[1]);e[2]=d(a,e[2]);e[3]=d(u,e[3])}function a(e,t,s,r,a,n){t=d(d(t,e),d(r,n));return d(t<<a|t>>>32-a,s)}function n(e,t,s,r,n,o,c){return a(t&s|~t&r,e,t,n,o,c)}function o(e,t,s,r,n,o,c){return a(t&r|s&~r,e,t,n,o,c)}function c(e,t,s,r,n,o,c){return a(t^s^r,e,t,n,o,c)}function i(e,t,s,r,n,o,c){return a(s^(t|~r),e,t,n,o,c)}function u(e){var t,s=[];for(t=0;t<64;t+=4)s[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return s}var p="0123456789abcdef".split("");function b(e){for(var t="",s=0;s<4;s++)t+=p[e>>8*s+4&15]+p[e>>8*s&15];return t}function l(e){return function(e){for(var t=0;t<e.length;t++)e[t]=b(e[t]);return e.join("")}(function(e){var t,s=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)r(a,u(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);n[t>>2]|=128<<(t%4<<3);if(t>55){r(a,n);for(t=0;t<16;t++)n[t]=0}n[14]=8*s;r(a,n);return a}(e))}function d(e,t){return e+t&4294967295}if("5d41402abc4b2a76b9719d911017c592"!=l("hello"))function d(e,t){var s=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(s>>16)<<16|65535&s}if(1===t.length)return 0;var m=t.reduce(function(e,t){return e+t.weight},0),h=l("enhancement_id="+e+"&path="+s),_=0;_=e<2850?parseInt(h[h.length-1],16)%m:parseInt(h.substr(8,8),16)%m;return t.reduce(function(e,t,s){var r=e.sum+1>_;if(e.done)return e;if(r){e.chosenInstructionIdx=s;e.done=!0}else e.sum=e.sum+t.weight;return e},{sum:0}).chosenInstructionIdx}function logHash(){console.log("RS-Hash:","26a7947b544e1843f35b127bc8b8262c")}function initializer(e,t,s){var r,a=e();function n(){t(a,s)}a.registerPainter(n);r=function(){window.location.search.indexOf("rs-hash=true")>-1&&logHash();n()},(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?r():document.addEventListener("DOMContentLoaded",r)}initializer(makeMiddleware,paint,enhancements);rankscience_loaded=!0},2e3);